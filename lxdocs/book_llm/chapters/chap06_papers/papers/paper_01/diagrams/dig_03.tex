

\begin{tikzpicture}[node distance=1.5cm, scale=1.1, transform shape, framed, background rectangle/.style={draw=black, thick}]

    % Nodes with explicit positioning to prevent overlap
    \node[rectangle_a_blue, align=left, text width=6cm] (ip) {RAG chunks\\User Input-\\Topic\\Difficulty\\Blooms level};
    \node[rec_b_pink_a, right=3cm of ip] (llm) {LLM};
    \node[cloud_a, aspect=1.7, text width=2cm, right=2cm of llm] (op) {Initial MCQs};
    
    % Arrows
    \draw[arrow] (ip) -- node[anchor=south] {Prompt} (llm);
    \draw[arrow] (llm) -- (op);

    

    % Nodes with explicit positioning to prevent overlap
    \node[rectangle_a_blue, align=left, text width=6cm, below=of ip] (ip2) {Initial MCQ drafts\\CoT reasoning instructions};
    \node[rec_b_pink_a, right=3cm of ip2] (llm2) {LLM};
    \node[cloud_a, aspect=1.7, text width=2cm, right=2cm of llm2] (op2) {Refined MCQs};
    
    % Arrows
    \draw[arrow] (ip2) -- node[align=center, text width=2cm] {COT Prompt} (llm2);
    \draw[arrow] (llm2) -- (op2);
    
\end{tikzpicture}